{"version":3,"sources":["./src/app/pages/stations/stations-routing.module.ts","./src/app/pages/stations/stations.component.ts","./src/app/pages/stations/stations.component.html","./src/app/pages/stations/stations.module.ts"],"names":[],"mappings":"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","file":"src_app_pages_stations_stations_module_ts-es2015.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { StationsComponent } from \"./stations.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: StationsComponent,\n  },\n  {\n    path: \":id\",\n    loadChildren: () =>\n      import(\"../station/station.module\").then((m) => m.StationModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StationsRoutingModule {}\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { LocalDataSource, ViewCell } from \"ng2-smart-table\";\nimport { AQI_COLORS } from \"../../constants/colors\";\nimport { StationService } from \"../../services/station.service\";\n\n@Component({\n  template: `\n    <div class=\"badge\" [style.backgroundColor]=\"aqiColor\">\n      {{ value }}\n    </div>\n  `,\n})\nclass AQIComponent implements ViewCell, OnInit {\n  status: boolean;\n\n  @Input() value: string | number;\n  @Input() rowData: any;\n\n  ngOnInit() {\n    this.status = this.rowData?.status;\n  }\n\n  get aqiColor() {\n    const e = AQI_COLORS.find((e) =>\n      this.value > e.gt && e.lte ? this.value <= e.lte : true\n    );\n    if (e) return e.color;\n    return \"#FD0100\";\n  }\n}\n@Component({\n  selector: \"ngx-stations\",\n  templateUrl: \"./stations.component.html\",\n  styleUrls: [\"./stations.component.scss\"],\n})\nexport class StationsComponent implements OnInit {\n  settings = {\n    actions: {\n      add: false,\n      edit: false,\n      delete: false,\n    },\n    pager: {\n      perPage: 6,\n    },\n    columns: {\n      NameDevice: {\n        title: \"Station Name\",\n        type: \"string\",\n      },\n      area: {\n        title: \"Area\",\n        type: \"string\",\n      },\n      currentAQI: {\n        width: \"160px\",\n        title: \"Current AQI\",\n        type: \"custom\",\n        renderComponent: AQIComponent,\n      },\n    },\n  };\n\n  source: LocalDataSource = new LocalDataSource();\n  private stations: Station[];\n  constructor(private stationService: StationService, private router: Router) {\n    this.stationService.getAllStation().subscribe((res) => {\n      this.stations = res.data;\n      this.source.load(this.stations);\n    });\n  }\n\n  ngOnInit(): void {}\n\n  public onRowSelect(event: any): void {\n    const { NameDevice } = event?.data;\n    const station = this.stations.find((s) => s.NameDevice === NameDevice);\n    if (station) this.router.navigate([\"pages\", \"stations\", station._id]);\n  }\n}\n","<nb-card>\n  <nb-card-header>\n    <div class=\"h5\">Stations</div>\n  </nb-card-header>\n\n  <nb-card-body>\n    <ng2-smart-table\n      [settings]=\"settings\"\n      [source]=\"source\"\n      (userRowSelect)=\"onRowSelect($event)\"\n    >\n    </ng2-smart-table>\n  </nb-card-body>\n</nb-card>\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport {\n  NbCardModule,\n  NbIconModule,\n  NbInputModule,\n  NbTreeGridModule,\n} from \"@nebular/theme\";\nimport { Ng2SmartTableModule } from \"ng2-smart-table\";\nimport { ThemeModule } from \"../../@theme/theme.module\";\nimport { StationsRoutingModule } from \"./stations-routing.module\";\nimport { StationsComponent } from \"./stations.component\";\n\n@NgModule({\n  declarations: [StationsComponent],\n  imports: [\n    CommonModule,\n    NbCardModule,\n    NbTreeGridModule,\n    NbIconModule,\n    NbInputModule,\n    ThemeModule,\n    Ng2SmartTableModule,\n    StationsRoutingModule,\n  ],\n})\nexport class StationsModule {}\n"],"sourceRoot":"webpack:///"}